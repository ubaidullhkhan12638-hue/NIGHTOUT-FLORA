var LUX=LUX||{};LUX.customerid="140493345";LUX["samplerate"]=3;!function(){"use strict";const t="activationStart",n="duration",e="entryType",o="length",r="name",i="navigationStart",c="push",s="processingEnd",u="processingStart",a="processingTime",f="script",l="selector",d="startTime",m="totalDuration",p=Math.max,g=Math.floor,h=Math.round;function v(t){return p(0,t)}function y(t,n){return t-n}function S(){return Date.now?Date.now():+new Date}var T=S();const b=window.performance||{},w=b.timing||{activationStart:0,navigationStart:window.LUX?.ns||T};function E(){return b.navigation&&void 0!==b.navigation.type?b.navigation.type:""}function D(){const t=P("navigation");if(t[o]){const n=t.pop().toJSON(),e={navigationStart:0,activationStart:0};for(const t in n)e[t]=n[t];return e}const n=E();return{navigationStart:0,activationStart:0,startTime:0,type:2==n?"back_forward":1===n?"reload":"navigate"}}function P(t){if("function"==typeof b.getEntriesByType){const n=b.getEntriesByType(t);if(n&&n[o])return n}return[]}function L(t){if("function"==typeof b.getEntriesByName){const n=b.getEntriesByName(t);if(n&&n[o])return n}return[]}function k(){return!document.visibilityState||"visible"===document.visibilityState}function U(t){!function(t){document.prerendering?document.addEventListener("prerenderingchange",t,!0):t()}(()=>{if(k())t();else{const n=()=>{k()&&(t(),removeEventListener("visibilitychange",n))};addEventListener("visibilitychange",n,!0)}})}function I(){return document.prerendering||D()[t]>0}const N={},x={};function B(t,n){N[t]||(N[t]=[]),N[t][c](n),void 0!==x[t]&&n(x[t])}function O(t,n){x[t]=n,N[t]&&N[t].forEach(t=>t(n))}function M(t,n){return t|n}function _(t,n,e=!1){addEventListener&&addEventListener(t,n,e)}function C(t,n,e=!1){removeEventListener&&removeEventListener(t,n,e)}const F="LUX_start",R="LUX_end";let j;function A(){return j}function H(){return p(A()||0,D()[t],L(F).pop()?.startTime||0)}function X(t){return v(g(t-H()))}function J(){return b.now?g(b.now()):S()-w[i]}function V(){const t=J(),n=L(F).pop();return n?g(t-n[d]):t}function q(t,n,e){for(;t[o]<n;)t=e+t;return t}const $="4.4.2";function G(t=$){const n=t.split(".");return parseFloat(n[0]+"."+q(n[1],2,"0")+q(n[2],2,"0"))}const W="sendBeacon"in navigator?navigator.sendBeacon.bind(navigator):(t,n)=>{const e=new XMLHttpRequest;return e.open("POST",t,!0),e.setRequestHeader("content-type","application/json"),e.send(String(n)),!0};function z(t){return A()||I()?t>=0:t>0}function K(t,n,e){const r=t.slice(0,n.maxBeaconUTEntries),i=t.slice(n.maxBeaconUTEntries);for(;(e+"&UT="+r.join(","))[o]>n.maxBeaconUrlLength&&r[o]>1;)i.unshift(r.pop());return[r,i]}class Q{constructor(t){this.isRecording=!0,this.isSent=!1,this.sendRetries=0,this.maxMeasureTimeout=0,this.flags=0,this.metricCollectors={},this.onBeforeSendCbs=[],this.startTime=t.startTime||H(),this.config=t.config,this.logger=t.logger,this.customerId=t.customerId,this.sessionId=t.sessionId,this.pageId=t.pageId,this.maxMeasureTimeout=window.setTimeout(()=>{this.logger.logEvent(82),this.stopRecording(),this.send()},this.config.maxMeasureTime-V()),_("securitypolicyviolation",t=>{if("report"!==t.disposition&&t.blockedURI===this.config.beaconUrlV2&&"URL"in self){if(!this.config.beaconUrlFallback){const t=new URL(this.config.beaconUrl).origin,n=new URL(this.config.beaconUrlV2).pathname;this.config.beaconUrlFallback=t+n}this.config.beaconUrlV2=this.config.beaconUrlFallback,this.logger.logEvent(90,[this.config.beaconUrlV2]),this.addFlag(4096),this.isSent=!1,this.sendRetries<1&&(this.sendRetries++,this.send())}}),this.logger.logEvent(80)}isBeingSampled(){return parseInt(String(this.sessionId).slice(-2))<this.config.samplerate}stopRecording(){this.isRecording=!1,this.logger.logEvent(86)}addCollector(t,n){this.metricCollectors[t]=n}addFlag(t){this.flags=M(this.flags,t)}beaconUrl(){return this.config.beaconUrlV2}onBeforeSend(t){this.onBeforeSendCbs[c](t)}send(){if(this.isSent)return;this.logger.logEvent(81);for(const t of this.onBeforeSendCbs)t();if(!this.isBeingSampled())return;const t=S(),n={};for(const t in this.metricCollectors){const e=this.metricCollectors[t](this.config);this.logger.logEvent(91,[t,!!e]),e&&(n[t]=e)}if(!Object.keys(n)[o]&&!this.config.allowEmptyPostBeacon)return void this.logger.logEvent(85);clearTimeout(this.maxMeasureTimeout);const e=this.beaconUrl(),r=Object.assign({customerId:this.customerId,flags:this.flags,measureDuration:V(),collectionDuration:S()-t,pageId:this.pageId,scriptVersion:$,snippetVersion:this.config.snippetVersion,sessionId:this.sessionId,startTime:this.startTime},n);try{W(e,JSON.stringify(r))&&(this.isSent=!0,this.logger.logEvent(83,[e,r]),O("beacon",r))}catch(t){}this.isSent||this.logger.logEvent(89,[e,r])}}var Y;function Z(t){"complete"===document.readyState?t():_("load",()=>{setTimeout(t,200)})}!function(t){t.CLS="cls",t.INP="inp",t.FCP="fcp",t.LCP="lcp",t.LoAF="loaf",t.RageClick="rage",t.NavigationTiming="nt"}(Y||(Y={}));const tt="https://lux.speedcurve.com";function nt(t,n,e){return void 0!==t[n]?t[n]:e}const et="lux_uid",ot={};let rt={};function it(t,n){const e=typeof n,o="undefined"===e||null===n;o||ot[t]===n||(rt[t]=n),"string"!==e&&"number"!==e&&"boolean"!==e||(ot[t]=n),o&&delete ot[t]}function ct(){return rt}function st(t){const n=[];for(let e in t){let o=""+t[e];e=e.replace(/,/g,"").replace(/\|/g,""),o=o.replace(/,/g,"").replace(/\|/g,""),n[c](e+"|"+o)}return encodeURIComponent(n.join(","))}function ut(t){if(t.hasAttribute("data-sctrack")){const n=t.getAttribute("data-sctrack")?.trim();if(n)return n}return function(t){if(t.parentNode&&t.parentNode.tagName)return!0;return!1}(t)?ut(t.parentNode):null}const at=100;function ft(t,n=""){return function(t,n=""){try{if(n&&(9===t.nodeType||n[o]>at||!t.parentNode))return n;const e=t,r=ut(e);if(r)return r;if(e.id)return"#"+e.id+(n?">"+n:"");if(e){const t=1===e.nodeType?e.nodeName.toLowerCase():e.nodeName.toUpperCase();let r=e.className?"."+e.className.replace(/\s+/g,"."):"";for(;(t+r)[o]>at;)r=r.split(".").slice(0,-1).join(".");const i=t+r+(n?">"+n:"");if(e.parentNode){const t=ft(e.parentNode,i);if(t[o]<at)return t}return i}}catch(t){}return n}(t,n).slice(0,at)}const lt=["utm_source","utm_campaign","utm_medium","utm_term","utm_content"];class dt{constructor(){this.events=[]}logEvent(t,n=[]){this.events[c]([S(),t,n])}getEvents(){return this.events}}let mt,pt=0,gt=[],ht=[],vt=0;function yt(t){if("LayoutShift"in self)return{value:vt,startTime:gt[0]?X(gt[0][d]):null,largestEntry:mt?{value:mt.value,startTime:X(mt[d])}:null,sources:ht[o]?ht.slice(0,t.maxAttributionEntries):null}}let St=[];function Tt(t){const e=[];let r=0,i=0,s=0,u=0;return St.forEach(t=>{const{startTime:n,blockingDuration:o,duration:a,renderStart:f,styleAndLayoutStart:l}=t;r+=a,i+=o,s+=l?v(n+a-l):0,u+=f?f-n:a,e[c]({startTime:g(n),duration:g(a),renderStart:g(f),styleAndLayoutStart:g(l),blockingDuration:g(o)})}),{totalBlockingDuration:g(i),totalDuration:g(r),totalEntries:St[o],totalStyleAndLayoutDuration:g(s),totalWorkDuration:g(u),scripts:bt(St.flatMap(t=>t.scripts),t),entries:e.sort((t,e)=>e[n]-t[n]).slice(0,t.maxAttributionEntries).sort((t,n)=>t[d]-n[d])}}function bt(t,e){const o={};return t.forEach(t=>{const e=t.sourceURL;o[e]||(o[e]={sourceUrl:t.sourceURL,sourceFunctionName:"",timings:[],totalEntries:0,totalDuration:0,totalBlockingDuration:0,totalPauseDuration:0,totalForcedStyleAndLayoutDuration:0,invoker:"",inpPhase:t.inpPhase}),o[e].totalEntries++,o[e][m]+=t[n],o[e].totalBlockingDuration+=p(0,t[n]-50),o[e].totalPauseDuration+=t.pauseDuration,o[e].totalForcedStyleAndLayoutDuration+=t.forcedStyleAndLayoutDuration,o[e].timings[c]([g(t[d]),g(t[n])])}),Object.values(o).map(t=>({...t,totalDuration:g(t[m]),totalPauseDuration:g(t.totalPauseDuration),totalForcedStyleAndLayoutDuration:g(t.totalForcedStyleAndLayoutDuration)})).sort((t,n)=>n[m]-t[m]).slice(0,e.maxAttributionEntries)}var wt;!function(t){t.InputDelay="ID",t.ProcessingTime="PT",t.PresentationDelay="PD"}(wt||(wt={}));let Et,Dt=[],Pt={},Lt=0;function kt(t){if(t.interactionId||"first-input"===t[e]&&(o=t,!Dt.some(t=>o[d]===t[d]&&o[n]===t[n]))){const{duration:e,startTime:o,interactionId:i,name:f,processingStart:m,processingEnd:p,target:g}=t;if(e<0)return;const h=p-m,v=Pt[i],y=g?ft(g):null;if(v){const t=e>v[n],i=e===v[n]&&h>v[a];(t||i)&&(v[n]=e,v[r]=f,v[s]=p,v[u]=m,v[a]=h,v[l]=y,v[d]=o,v.target=g)}else Lt++,Pt[i]={duration:e,interactionId:i,name:f,processingEnd:p,processingStart:m,processingTime:h,selector:y,startTime:o,target:g},Dt[c](Pt[i]);Dt.sort((t,e)=>e[n]-t[n]),Dt.splice(10).forEach(t=>{delete Pt[t.interactionId]})}var o}function Ut(){const t=Math.min(Dt[o]-1,Math.floor(function(){if("interactionCount"in b)return b.interactionCount;return Lt}()/50));return Dt[t]}function It(t){const e=Ut();if(!e)return;const{duration:o,startTime:i,processingStart:c}=e,u=St.flatMap(t=>t.scripts).filter(t=>t[d]+t[n]>=i&&t[d]<=i+o).map(t=>{const o=JSON.parse(JSON.stringify(t));return o[n]=o[d]+o[n]-p(i,o[d]),o.inpPhase=function(t,n){const{processingStart:e,processingTime:o,startTime:r}=n,i=e-r;if(t[d]<r+i)return wt.InputDelay;if(t[d]>=r+i+o)return wt.PresentationDelay;return wt.ProcessingTime}(o,e),o}),f=bt(u,t);return{value:e[n],startTime:X(i),duration:e[n],subParts:{inputDelay:v(g(c-i)),processingStart:X(c),processingEnd:X(e[s]),processingTime:v(g(e[a])),presentationDelay:v(g(i+e[n]-e[s]))},attribution:{eventType:e[r],elementSelector:e[l]||null,elementType:e.target?.nodeName||null,loafScripts:f}}}let Nt=null;function xt(){if(!Et)return;let n=null;if(Et.url){const e=P("resource").find(t=>t[r]===Et.url);if(e){const o=D(),r=o.responseStart||w.responseStart,i=o[t],c=p(0,r-i),s=e[d],u=(e.requestStart||s)-i,a=p(u,e.responseEnd-i),f=p(a,s-i);n={resourceLoadDelay:v(g(u-c)),resourceLoadTime:v(g(a-u)),elementRenderDelay:v(g(f-a))}}}const e=Et[d];return z(e)?{value:X(e),subParts:n,attribution:Nt}:void 0}function Bt(){if(L(F).pop())return;const t=D(),n={};for(const e in t){const o=t[e];"number"==typeof o?n[e]=X(o):"string"==typeof o&&(n[e]=o)}return n}let Ot=0,Mt=0,_t=0,Ct=null,Ft=0,Rt=0;function jt(){clearTimeout(Ot),_t=0,Ct=null,Ft=0,Rt=0}function At(){return _t>=5?{value:_t,startTime:Mt,attribution:Ct?{elementSelector:ft(Ct),elementType:Ct.nodeName}:null}:null}document.addEventListener("click",t=>{null===Ct&&(Mt=J(),Ct=t.target,Ft=t.clientX,Rt=t.clientY,Ot=window.setTimeout(()=>{jt()},5e3));const n=Ct.nodeName,e=t.target===Ct&&("BUTTON"===n||"A"===n||"INPUT"===n),o=Math.abs(Ft-t.clientX)<50&&Math.abs(Rt-t.clientY)<50||e;o&&_t++,_t>=5?clearTimeout(Ot):_t&&!o&&jt()});const Ht=[];function Xt(t,n,e){if("function"==typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes(t)){const o=new PerformanceObserver(t=>{t.getEntries().forEach(t=>n(t))});return o.observe(Object.assign({type:t,buffered:!0},{options:e})),o}}function Jt(t){return Ht.filter(n=>n[e]===t)}function Vt(t,n,e,o){const r=[];for(const i in t){const s=t[i];if(Array.isArray(s))for(const t in s){const u=s[t];if("string"==typeof u&&qt(u,n,e)){if(o)return i;r[c](i)}}}if(!o)return r}function qt(t,n,e){const o=function(t){return new RegExp("^"+(n=t,n.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&")).replace(/\*/g,".*")+"$","i");var n}(t);return"/"===t.charAt(0)?o.test(e):o.test(n+e)}const $t=window;let Gt=$t.LUX||{},Wt=T;Gt=function(){const m=new dt,S=function(t){const n=nt(t,"spaMode",!1),e=!n&&nt(t,"auto",!0);return{allowEmptyPostBeacon:nt(t,"allowEmptyPostBeacon",!1),auto:e,beaconUrl:nt(t,"beaconUrl",tt+"/lux/"),beaconUrlFallback:nt(t,"beaconUrlFallback"),beaconUrlV2:nt(t,"beaconUrlV2","https://beacon.speedcurve.com/store"),conversions:nt(t,"conversions"),cookieDomain:nt(t,"cookieDomain"),customerid:nt(t,"customerid"),errorBeaconUrl:nt(t,"errorBeaconUrl",tt+"/error/"),interactionBeaconDelay:nt(t,"interactionBeaconDelay",200),jspagelabel:nt(t,"jspagelabel"),label:nt(t,"label"),maxAttributionEntries:nt(t,"maxAttributionEntries",25),maxBeaconUrlLength:nt(t,"maxBeaconUrlLength",8190),maxBeaconUTEntries:nt(t,"maxBeaconUTEntries",20),maxErrors:nt(t,"maxErrors",5),maxMeasureTime:nt(t,"maxMeasureTime",6e4),measureUntil:nt(t,"measureUntil",n?"pagehidden":"onload"),minMeasureTime:nt(t,"minMeasureTime",0),newBeaconOnPageShow:nt(t,"newBeaconOnPageShow",!1),pagegroups:nt(t,"pagegroups"),samplerate:nt(t,"samplerate",100),sendBeaconOnPageHidden:nt(t,"sendBeaconOnPageHidden",n||e),serverTiming:nt(t,"serverTiming"),spaMode:n,trackErrors:nt(t,"trackErrors",!0),trackHiddenPages:nt(t,"trackHiddenPages",!1)}}(Gt);m.logEvent(1,[$,JSON.stringify(S)]);const L=$t.document,N=L.documentElement||{},x=$t.addEventListener,W=$t.removeEventListener,ut=$t.setTimeout,at=$t.clearTimeout,bt=$t.encodeURIComponent,wt=L.currentScript||{};let Ot=0;function Mt(t){if(S.trackErrors&&(Ot++,t&&void 0!==t.filename&&void 0!==t.message)){(t.filename.indexOf("/lux.js?")>-1||t.message.indexOf("LUX")>-1||Ot<=S.maxErrors&&En())&&((new Image).src=S.errorBeaconUrl+"?v="+G()+"&id="+xn()+"&fn="+bt(t.filename)+"&ln="+t.lineno+"&cn="+t.colno+"&msg="+bt(t.message)+"&l="+bt(te())+(On()?"&ct="+On():"")+"&HN="+bt(L.location.hostname)+"&PN="+bt(L.location.pathname))}}x("error",Mt);let _t=0;const Ct=[],Ft=[];let Rt={},qt=0,zt=0,Kt=0,Qt=1;let Yt,Zt,tn=Qn(),nn=Yn(tn),en=Gt.customerid;const on=[[Y.RageClick,At],[Y.NavigationTiming,Bt],[Y.FCP,()=>{const t=Un();return t?{value:t}:null}]],rn=t=>{m.logEvent(42,[t])},cn=t=>{!function(t){Ht[c](t)}(t),rn(t)};try{Xt("longtask",cn),Xt("element",cn),Xt("paint",cn),Xt("largest-contentful-paint",t=>{cn(t),function(t){(!Et||t[d]>Et[d])&&(Et=t,Nt=t.element?{elementSelector:ft(t.element),elementType:t.element.nodeName}:null)}(t)})&&on[c]([Y.LCP,xt]),Xt("layout-shift",t=>{!function(t){if(!t.hadRecentInput){const n=gt[0],e=gt[gt[o]-1],r=t.sources?t.sources.filter(t=>t.node).map(n=>({value:t.value,startTime:X(t[d]),elementSelector:ft(n.node),elementType:n.node.nodeName})):[];gt[o]&&(t[d]-e[d]>=1e3||t[d]-n[d]>=5e3)?(pt=t.value,gt=[t],ht=r,mt=t):(pt+=t.value,gt[c](t),ht=ht.concat(r),(!mt||t.value>mt.value)&&(mt=t)),vt=p(vt,pt)}}(t),rn(t)})&&on[c]([Y.CLS,yt]),Xt("long-animation-frame",t=>{!function(t){St[c](t)}(t),rn(t)})&&on[c]([Y.LoAF,Tt]);const t=t=>{kt(t),rn(t)};Xt("first-input",n=>{rn(n);const e=n[u]-n[d];(!fn||fn<e)&&(fn=g(e)),t(n)}),Xt("event",o=>{t(o),rn({interactionId:o.interactionId,name:o[r],entryType:o[e],startTime:o[d],duration:o[n],processingStart:o[u],processingEnd:o[s]})},{durationThreshold:0})&&on[c]([Y.INP,It])}catch(t){m.logEvent(51,[t])}const sn=()=>{const t=new Q({config:S,logger:m,customerId:xn(),sessionId:nn,pageId:tn});return on.forEach(([n,e])=>{t.addCollector(n,e)}),t};let un=sn();En()?m.logEvent(21,[S.samplerate]):m.logEvent(22,[S.samplerate]);const an=Gt.ns?Gt.ns-w[i]:0;let fn;b.timing||(m.logEvent(71),_t=M(_t,2),un.addFlag(2)),m.logEvent(41,[w[i]]);const ln=["click","mousedown","keydown","touchstart","pointerdown"],dn={passive:!0,capture:!0};function mn(t){fn||(fn=g(t),ln.forEach(function(t){W(t,pn,dn)}))}function pn(t){let n=!1;try{n=t.cancelable}catch(t){return void m.logEvent(52)}if(n){let n=J();const e=t.timeStamp;if(e>152e7&&(n=Number(new Date)),e>n)return;const o=n-e;"pointerdown"===t.type?function(t){function n(){mn(t),o()}function e(){o()}function o(){W("pointerup",n,dn),W("pointercancel",e,dn)}x("pointerup",n,dn),x("pointercancel",e,dn)}(o):mn(o)}}function gn(...t){if(m.logEvent(4,t),b.mark)return b.mark(...t)}function hn(t){return vn(t,yn())}function vn(t,n){if(n)for(let e=n[o]-1;e>=0;e--){const o=n[e];if(t===o[r])return o}}function yn(){const t=P("mark");return t[o]?t:Ct}function Sn(){const t={},e=hn(F),i=H();yn().forEach(n=>{const e=n[r];if(e===F||e===R)return;const o=g(n[d]-i);o<0||(void 0===t[e]?t[e]={startTime:o}:t[e][d]=p(o,t[e][d]))}),function(){const t=P("measure");return t[o]?t:Ft}().forEach(o=>{if(e&&o[d]<e[d])return;const c=o[r],s=g(o[d]-i),u=g(o[n]);(void 0===t[c]||s>t[c][d])&&(t[c]={startTime:s,duration:u})});const s=[];for(const n in t){const{startTime:e,duration:o}=t[n],r=[n,e];void 0!==o&&r[c](o),s[c](r.join("|"))}return s}function Tn(){if(!("PerformanceLongTaskTiming"in self))return"";let t="";const e={},i={},s=Jt("longtask");if(s[o]){const t=H();s.forEach(o=>{let c=g(o[n]);if(o[d]<t&&(c-=t-o[d]),c>0){m.logEvent(43,[o]);const t=o.attribution[0][r];e[t]||(e[t]=0,i[t]=""),e[t]+=c,i[t]+=","+g(o[d])+"|"+c}})}const u=void 0!==e[f]?f:"unknown";void 0===e[u]&&(e[u]=0,i[u]="");const a=function(t){let n=0;const e=Un();let r=e||0,i=void 0===e;const s=[],u=t.split(",");for(let t=0;t<u[o];t++){const e=u[t].split("|");if(2===e[o]){const t=parseInt(e[0]),o=parseInt(e[1]);if(s[c](o),n=o>n?o:n,!i&&t>r)if(t-r>5e3)i=!0;else{const n=X(t+o);z(n)&&(r=n)}}}const a=s[o],f=function(t){if(0===t[o])return 0;const n=g(t[o]/2);return t.sort(y),t[o]%2?t[n]:h((t[n-1]+t[n])/2)}(s);return{count:a,median:f,max:n,fci:r}}(i[u]),l=",n|"+a.count+",d|"+a.median+",x|"+a.max+(void 0===a.fci?"":",i|"+a.fci);return t+="s|"+e[u]+l+i[u],t}function bn(){const t=[];for(const n in Rt)t[c](n+"|"+bt(Rt[n]));return t.join(",")}function wn(t,n){m.logEvent(6,[t,n]),"string"==typeof t&&it(t,n),qt&&(Yt&&at(Yt),Yt=ut(Vn,100))}function En(){if(void 0===nn||void 0===S.samplerate)return!1;const t=(""+nn).substr(-2);return parseInt(t)<S.samplerate}function Dn(t,n=!0){t?gn(F,{startTime:t}):gn(F),Rt={},Kn(),zn(),zt=0,qt=0,Kt=0,Qt=0,tn=Qn(),nn=Yn(tn),Et=void 0,Nt=null,pt=0,gt=[],vt=0,mt=void 0,Lt=0,Dt=[],Pt={},St=[],jt(),Ot=0,fn=void 0,un=sn(),n&&(_t=0,_t=M(_t,1),un.addFlag(1)),Fn()}function Pn(){const t=Mn();if(!t)return function(){const t=L.getElementsByTagName(f);let n=0;for(let e=0,r=t[o];e<r;e++){const o=t[e];!o.src||o.async||o.defer||n++}return n}();const n=L.getElementsByTagName(f);let e=0;for(let r=0,i=n[o];r<i;r++){const o=n[r];o.src&&!o.async&&!o.defer&&4&o.compareDocumentPosition(t)&&e++}return e}function Ln(t){const n=L.getElementsByTagName(t);let e=0;for(let t=0,r=n[o];t<r;t++){const r=n[t];try{e+=r.innerHTML[o]}catch(t){return m.logEvent(53),-1}}return e}function kn(){let n="",e=w[i];const r=hn(F),c=hn(R),s=A();if(r&&c&&!s){const t=g(r[d]);e+=t;const o=g(c[d])-t;n=e+"as0fs0"+(o>0?"ls"+o+"le"+o:"")}else if(b.timing){const i=D(),u=function(){if("PerformancePaintTiming"in self){const t=P("paint");if(t[o]){const n=t.map(t=>t[d]).sort(y);for(let t=0;t<n[o];t++){const e=X(n[t]);if(z(e))return e}}}b.timing&&w.msFirstPaint,0;return void m.logEvent(72)}(),a=Un(),f=function(){const t=Jt("largest-contentful-paint");if(t[o]){const n=t[t[o]-1],e=X(n[d]);if(z(e))return m.logEvent(43,[n]),e}return}(),l=(t,n,e)=>{if("number"==typeof i[t]){const o=i[t];if(z(o)||!e)return n+X(o)}return""};let p=l("loadEventStart","ls",!0),h=S.spaMode&&c?"le"+X(c[d]):l("loadEventEnd","le",!0);if(s&&r&&c){const t=g(c[d]-r[d]);p="ls"+t,h="le"+t}const T=D().redirectCount>0||w.redirectEnd>0,E="https:"===L.location.protocol;n=[e,"as"+v(i[t]),T&&!A()?l("redirectStart","rs"):"",T&&!A()?l("redirectEnd","re"):"",l("fetchStart","fs"),l("domainLookupStart","ds"),l("domainLookupEnd","de"),l("connectStart","cs"),E?l("secureConnectionStart","sc"):"",l("connectEnd","ce"),l("requestStart","qs"),l("responseStart","bs"),l("responseEnd","be"),l("domInteractive","oi",!0),l("domContentLoadedEventStart","os",!0),l("domContentLoadedEventEnd","oe",!0),l("domComplete","oc",!0),p,h,void 0!==u?"sr"+u:"",void 0!==a?"fc"+a:"",void 0!==f?"lc"+f:""].join("")}else if(c){const t=g(c[d]);n=e+"fs0ls"+t+"le"+t}return n}function Un(){const t=P("paint");for(let n=0;n<t[o];n++){const e=t[n];if("first-contentful-paint"===e[r]){const t=X(e[d]);if(z(t))return t}}}function In(){if("PerformanceEventTiming"in self)return Ut()}function Nn(t){return["&INP="+t[n],t[l]?"&INPs="+bt(t[l]):"","&INPt="+g(t[d]),"&INPi="+v(g(t[u]-t[d])),"&INPp="+v(g(t[a])),"&INPd="+v(g(t[d]+t[n]-t[s]))].join("")}function xn(){if(wt.src){const t=wt.src.match(/id=(\d+)/)?.pop();t&&en!==t&&(en=t)}return en?String(en):""}function Bn(t){let n=0;if(t.parentNode)for(;t=t.parentNode;)n++;return n}function On(){const t=navigator.connection;let n="";return t&&t.effectiveType&&(n=t.effectiveType,n="slow-2g"===n?"Slow 2G":"2g"===n||"3g"===n||"4g"===n||"5g"===n?n.toUpperCase():n.charAt(0).toUpperCase()+n.slice(1)),n}function Mn(t){let n;if(t||(t=L.body),t){const e=t.children;if(e)for(let t=0,r=e[o];t<r;t++){const o=e[t];_n(o)&&(n=o)}}return n?Mn(n):t}function _n(t){const n=N.clientHeight,e=N.clientWidth,o=function(t){let n=0,e=0;for(;t;)try{n+=t.offsetLeft,e+=t.offsetTop,t=t.offsetParent}catch(t){return[n,e]}return[n,e]}(t);return o[0]>=0&&o[1]>=0&&o[0]<e&&o[1]<n&&t.offsetWidth>0&&t.offsetHeight>0}function Cn(t){m.logEvent(12,[t]),t?gn(R,{startTime:t}):gn(R)}function Fn(){Rn(),Zt=ut(()=>{_t=M(_t,32),un.addFlag(32),An()},S.maxMeasureTime-V())}function Rn(){Zt&&at(Zt)}function jn(t){const n=["v="+G(),"id="+xn(),"sid="+tn,"uid="+nn,"l="+bt(te()),"HN="+bt(L.location.hostname),"PN="+bt(L.location.pathname)];_t&&n[c]("fl="+_t),Gt.snippetVersion&&n[c]("sv="+Gt.snippetVersion);const e=st(t);return e&&(n[c]("CD="+e),rt={}),S.beaconUrl+"?"+n.join("&")}function An(t=!1){if(!k()&&!S.trackHiddenPages&&!t)return void m.logEvent(13);Rn();if(!xn()||!tn||!En()||qt)return;m.logEvent(9);const e=hn(F),r=hn(R);e?S.spaMode||(!r||r[d]<e[d])&&Cn():r||Cn();const s=function(){const t={};if(location.search&&"function"==typeof URLSearchParams){const n=new URLSearchParams(location.search);for(const e of lt){const o=n.get(e);o&&(t[e]=o)}}return t}();for(const t in s)m.logEvent(44,[t,s[t]]),it("_"+t,s[t]);let u="",a=In();Kt||(u=bn(),""===u&&(a=void 0));const l=function(){const t=[];return Jt("element").forEach(n=>{if(n.identifier&&n[d]){const e=X(n[d]);z(e)&&(m.logEvent(43,[n]),t[c](n.identifier+"|"+e))}}),t.join(",")}(),v=Tn(),y=yt(S),P=function(){let t="";if(Qt&&b.getEntriesByName&&wt.src){const n=b.getEntriesByName(wt.src);if(n&&n[o]){const e=n[0],o=g(e.domainLookupEnd-e.domainLookupStart),r=g(e.connectEnd-e.connectStart),c=g(e.responseStart-e.requestStart),s=g(e.responseEnd-e.responseStart),u=o+r+c+s,a=Wt-T,f=e.encodedBodySize?e.encodedBodySize:0;t="d"+o+"t"+r+"f"+c+"c"+s+"n"+u+"e"+a+"r"+S.samplerate+("number"==typeof f?"x"+f:"")+("number"==typeof an?"l"+an:"")+"s"+(T-w[i])}}return t+="m"+V(),t}();if(k()||(_t=M(_t,8),un.addFlag(8)),I()&&(_t=M(_t,1024),un.addFlag(1024)),S.serverTiming){const t=D();if(t.serverTiming){const e=function(t,e){const o={};return e.forEach(e=>{const r=e.name,i=e.description;if(r in t){const c=t[r],s=c[1];if("r"===c[0])o[r]=e[n]*(s||1);else if(i&&s){const t=parseFloat(i);isNaN(t)||(o[r]=t*s)}else o[r]=i||"true"}}),o}(S.serverTiming,t.serverTiming);for(const t in e)wn(t,e[t])}}Gt.conversions&&Vt(Gt.conversions,location.hostname,location.pathname).forEach(t=>{Gt.addData(t,"true")});const U=jn(ot),x=Ln(f),B=Ln("style"),O=D().encodedBodySize||0,_=On(),C=function(){const t=D();if("deliveryType"in t)return t.deliveryType||"(empty string)"}(),j=(zt?"":"&NT="+kn())+"&LJS="+P+"&PS=ns"+function(){const t=L.getElementsByTagName(f);let n=0;for(let e=0,r=t[o];e<r;e++)t[e].src&&n++;return n}()+"bs"+Pn()+(x>-1?"is"+x:"")+"ss"+function(){const t=L.getElementsByTagName("link");let n=0;for(let e=0,r=t[o];e<r;e++){const o=t[e];o.href&&"stylesheet"==o.rel&&n++}return n}()+"bc"+function(){let t=0;const n=L.getElementsByTagName("link");for(let e=0,r=n[o];e<r;e++){const o=n[e];o.href&&"stylesheet"===o.rel&&0!==o.href.indexOf("data:")&&(o.onloadcssdefined||"print"===o.media||"style"===o.as||"function"==typeof o.onload&&"all"===o.media||t++)}return t}()+(B>-1?"ic"+B:"")+"ia"+function(){const t=L.getElementsByTagName("img"),n=[];if(t)for(let e=0,r=t[o];e<r;e++){const o=t[e];_n(o)&&n[c](o)}return n}()[o]+"it"+L.getElementsByTagName("img")[o]+"dd"+function(){const t=L.getElementsByTagName("*");let n=t[o],e=0;for(;n--;)e+=Bn(t[n]);return h(e/t[o])}()+"nd"+L.getElementsByTagName("*")[o]+"vh"+N.clientHeight+"vw"+N.clientWidth+"dh"+function(t){const n=t.body;return p(n?n.scrollHeight:0,n?n.offsetHeight:0,N?N.clientHeight:0,N?N.scrollHeight:0,N?N.offsetHeight:0)}(L)+"dw"+function(t){const n=t.body;return p(n?n.scrollWidth:0,n?n.offsetWidth:0,N?N.clientWidth:0,N?N.scrollWidth:0,N?N.offsetWidth:0)}(L)+(O?"ds"+O:"")+(_?"ct"+_+"_":"")+(void 0!==C?"dt"+C+"_":"")+"er"+Ot+"nt"+E()+(navigator.deviceMemory?"dm"+h(navigator.deviceMemory):"")+(u?"&IX="+u:"")+(void 0!==fn?"&FID="+fn:"")+(v?"&CPU="+v:"")+(l?"&ET="+l:"")+(y?"&CLS="+y.value.toFixed(6):"")+(a?Nn(a):""),A=Sn();let[H,J]=K(A,S,U+j);const q=U+j+(H[o]>0?"&UT="+H.join(","):"");for(m.logEvent(23,[q]),qn(q),qt=1,zt=1,Kt=u?1:0;J[o];){[H,J]=K(J,S,U);const t=U+"&UT="+H.join(",");m.logEvent(24,[t]),qn(t)}}let Hn;function Xn(){at(Hn),Hn=ut(Jn,S.interactionBeaconDelay)}function Jn(){if(!xn()||!tn||!En()||Kt||!qt)return;const t=bn(),n=In();if(t){const e=jn(ct())+"&IX="+t+(void 0!==fn?"&FID="+fn:"")+(void 0!==n?Nn(n):"");m.logEvent(25,[e]),qn(e),Kt=1}}function Vn(){if(!(xn()&&tn&&En()&&qt))return;if(st(ct())){const t=jn(ct());m.logEvent(26,[t]),qn(t)}}function qn(t){(new Image).src=t,O("beacon",t)}function $n(){void 0===Rt.s&&(Rt.s=V())}function Gn(t){const{keyCode:n}=t;if(16!==n&&17!==n&&18!==n&&20!==n&&224!==n){if(void 0===Rt.k){if(Rt.k=V(),t&&t.target instanceof Element){const n=ft(t.target);n&&(Rt.ki=n)}delete Rt.s,Xn()}Kn()}}function Wn(t){if(void 0===Rt.c){let n;Rt.c=V(),delete Rt.s;try{t&&t.target instanceof Element&&(n=t.target)}catch(t){m.logEvent(54)}if(n){t.clientX&&(Rt.cx=t.clientX,Rt.cy=t.clientY);const e=ft(n);e&&(Rt.ci=e)}Xn()}Kn()}function zn(){_("scroll",$n),_("keydown",Gn),_("mousedown",Wn)}function Kn(){C("scroll",$n),C("keydown",Gn),C("mousedown",Wn)}function Qn(t=!1){let n;return n=t?Number(new Date)+"00000":Number(new Date)+q(String(h(1e5*Math.random())),5,"0"),O("new_page_id",n),n}function Yn(t){let n=function(t){try{const n=L.cookie.split(";");for(let e=0;e<n[o];e++){const o=n[e].split("=");if(t===o[0].trim())return unescape(o[1])}}catch(t){m.logEvent(55)}return}(et);if(!n||n[o]<11)n=t;else{const e=parseInt(n.substring(0,10));Number(new Date)/1e3-e>86400&&(n=t)}return Zn(n),n}function Zn(t){return function(t,n,e){try{L.cookie=t+"="+escape(n)+(e?"; max-age="+e:"")+(S.cookieDomain?"; domain="+S.cookieDomain:"")+"; path=/; SameSite=Lax"}catch(t){m.logEvent(56)}}(et,t,1800),t}function te(){if(Gt.label)return _t=M(_t,128),un.addFlag(128),Gt.label;if(void 0!==Gt.pagegroups){const t=Vt(Gt.pagegroups,location.hostname,location.pathname,!0);if(t)return _t=M(_t,512),un.addFlag(512),t}if(void 0!==Gt.jspagelabel){const t=Function('"use strict"; return '+Gt.jspagelabel);try{const n=t();if(n)return _t=M(_t,256),un.addFlag(256),n}catch(t){m.logEvent(57,[Gt.jspagelabel,t])}}return _t=M(_t,64),un.addFlag(64),L.title}if(ln.forEach(function(t){x(t,pn,dn)}),S.auto){const t=()=>{S.trackHiddenPages?An():U(An)},n=()=>{const e=V(),o=S.minMeasureTime-e;o<=0?(m.logEvent(11,[e,S.minMeasureTime]),"onload"===S.measureUntil&&Z(t)):ut(n,o)};n()}S.newBeaconOnPageShow&&x("pageshow",t=>{var n;t.persisted&&(n=t.timeStamp,j=n,ut(()=>{qt&&(m.logEvent(17),Dn(A(),!1),Cn()),_t=M(_t,2048),un.addFlag(2048)},0))}),S.sendBeaconOnPageHidden&&function(){const t=()=>{_t=M(_t,16),un.addFlag(16),m.logEvent(10),An(!0),Jn(),un.send()};"onpagehide"in self?_("pagehide",t,!0):(_("unload",t,!0),_("beforeunload",t,!0)),_("visibilitychange",()=>{"hidden"===L.visibilityState&&t()},!0)}(),zn(),Fn();const ne=S;function ee([t,...n]){"function"==typeof ne[t]&&ne[t].apply(ne,n)}return ne.addData=wn,ne.cmd=ee,ne.getSessionId=function(){return nn},ne.mark=gn,ne.markLoadTime=Cn,ne.measure=function(...t){m.logEvent(5,t),t[0];let e,o=t[1];if(t[2],"object"==typeof o&&(e=t[1],o=e.start,e.end),void 0===o&&(o=hn(F)?F:"navigationStart",e?e.end&&e[n]||(t[1].start=o):t[1]=o),b.measure)return b.measure(...t)},ne.on=B,ne.snippetVersion=Gt.snippetVersion,ne.version=$,ne.init=t=>{m.logEvent(3);hn(R)?(S.spaMode&&(un.send(),An()),Dn(t)):m.logEvent(18)},ne.startSoftNavigation=t=>{m.logEvent(14),un.send(),An(),Dn(t)},ne.send=t=>{if(S.spaMode&&!t){m.logEvent(16);const t=hn(F),n=hn(R);(!n||t&&n[d]<t[d])&&Cn()}else m.logEvent(7),un.send(),An()},ne.getDebug=()=>(console.log("SpeedCurve RUM debugging documentation: https://support.speedcurve.com/docs/rum-js-api#luxgetdebug"),m.getEvents()),ne.forceSample=()=>{m.logEvent(8),Zn(Qn(!0))},ne.doUpdate=()=>{},Gt.ac&&Gt.ac[o]&&Gt.ac.forEach(ee),void 0!==$t.LUX_ae&&$t.LUX_ae.forEach(Mt),m.logEvent(2),ne}(),$t.LUX=Gt,Wt=S()}();
//# sourceMappingURL=lux.es2020.min.js.map
